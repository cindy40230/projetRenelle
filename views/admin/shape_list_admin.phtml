<p class="lien"><a href="index.php?controller=home&action=index" title="retour Ã  l'accueil"><i class="fa fa-home"></i> Accueil /</a><a href="index.php?controller=homeadmin&action=index" title="accueil admin">Administration /</a>Liste des formes </p>
<h2><img src="assets/img/logo/signeG.svg" alt="signeG"><span> GESTION DES FORMES<img src="assets/img/logo/signeD.svg" alt="signeD"></span></h2>
<div class="list_product">
  <?php include 'aside_bar.phtml' ?>
  <div class=table-list>
    <?php if ($flash->hasMessages() == true) : ?>
      <aside class="flash">
        <?php foreach ($flash->fetchMessages() as $message) : ?>
          <p><?= htmlspecialchars($message) ?></p>
        <?php endforeach ?>
      </aside>
    <?php endif; ?>
    <h3>LISTES DES FORMES</h3>
    <table class="generic-table listproduct">
      <thead>
        <tr>
          <th>ID</th>
          <th>Formes</th>
          <th>Image</th>
          <th><a class="btn" href="index.php?controller=shapeadmin&action=insert" title="insertion d'une nouvelle forme"><i class="fas fa-plus"></i></a> </th>
        </tr>
      </thead>
      <tbody>
        <?php foreach ($shapes as $shape) : ?>
          <tr>
            <td><?= htmlspecialchars($shape['id']) ?></td>
            <td><?= htmlspecialchars($shape['name']) ?></td>
            <?php if ($shape['picture'] == null) : ?>
              <td><img class="img_list" src="assets/img/no-photo.png" alt="no-photo"></td>
            <?php else : ?>
              <td><img class="img_list" src="assets/img/shape/<?= htmlspecialchars($shape['picture']) ?>" alt="<?= htmlspecialchars($shape['picture']) ?>"></td>
            <?php endif ?>
            <td class="icone_e"><a href="index.php?controller=shapeadmin&action=edit&id=<?= intval($shape['id']); ?>" title="modification d'une forme"><i class="fas fa-pen-nib"></i></a></td>
          </tr>
        <?php endforeach; ?>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="4"><strong>($NB de forme au total : <?= count($shapes) ?>)</strong></td>
        </tr>
      </tfoot>
    </table>
  </div>
</div>